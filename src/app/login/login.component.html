<div class="container-fluid" id="login">
    <div class="container col-sm-12">
      <h1 class="display-3 text-center">Ghar ka kharcha</h1>
      <p class="lead text-center">It is a simple application to help you keep track of your daily expenses.
        Adding features as it develops. Purpose to learn angular.</p>
      <hr class="my-4">
      <div class="col-sm-5 offset-sm-4">
        <small></small>
        <p class="lead"></p>
  
      </div>
      <div class="d-flex justify-content-center">
        <button mat-stroked-button color="primary" (click)="toggleLogin()">Login</button>
        <button class="ml-2" mat-stroked-button color="primary" (click)="signUp()">Get Started</button>
      </div>
    </div>
  
  
    <div id="target" class="login-card" [hidden]="!isVisible">
      <form [formGroup]="loginForm" novalidate (ngSubmit)="checkLogin(loginForm.value, loginForm.valid, loginForm)">
        <div class="row" *ngIf="isLoading">
          <div class="col-sm-6 offset-sm-3">
            <mat-progress-bar color="primary"></mat-progress-bar>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 offset-sm-3">
            <mat-card class="z-depth-5">
              <mat-card-title>Login</mat-card-title>
              <mat-card-content>
                <div class="col-sm-12">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input matInput placeholder="User Name" name="userName" formControlName="userName" appUsernameValidator
                    [userName]="true" type="text"  required>
                  </mat-form-field>
                  <div *ngIf="loginForm.get('userName')?.hasError('invalidUsername') && (loginForm.get('userName')?.dirty ||
                     loginForm.get('userName')?.touched)" class="alert alert-danger">
                    <small>Username must be at least 3 characters long and only contain alpha numeric characters.</small>
                  </div>
                  
                </div>
                <div class="col-sm-12">
                  <mat-form-field appearance="outline" class="example-full-width">
                    <input matInput placeholder="Password" name="password" type="password" formControlName="password" required minlength="8">
                  </mat-form-field>
                  <div *ngIf="loginForm.get('password')?.hasError('invalidPassword') && loginForm.get('password')?.touched" class="alert alert-danger">
                    Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.
                  </div>
                </div>
              </mat-card-content>
              <mat-card-actions>
                <div class="col-sm-12">
                  <button class="col-sm-12" type="submit" mat-raised-button color="primary" [disabled]="!loginForm.valid">
                    Login
                  </button>
                </div>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
      </form>
    </div>
  </div>